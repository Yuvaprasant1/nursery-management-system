# Production Profile Configuration
# This profile is used for production deployment
# IMPORTANT: Never commit sensitive values here. Use environment variables or secure vaults.

# Application Configuration
spring.application.name=nursery-app

# Firestore Configuration - Production
# Use environment variables for production credentials (recommended)
# GOOGLE_APPLICATION_CREDENTIALS should be set as environment variable
# GOOGLE_CLOUD_PROJECT should be set as environment variable
firestore.project-id=${GOOGLE_CLOUD_PROJECT:nursery-application-280df}
# DO NOT hardcode credentials path in production - use environment variable
firestore.credentials-path=${GOOGLE_APPLICATION_CREDENTIALS:}
firestore.enabled=true

# Firestore Retry Configuration - Production (more aggressive)
firestore.retry.max-attempts=5
firestore.retry.initial-backoff-ms=200
firestore.retry.backoff-multiplier=2.0
firestore.retry.max-backoff-ms=5000

# Firestore Timeout Configuration - Production
firestore.timeout.seconds=60

# Server Configuration
server.port=${SERVER_PORT:8080}

# CORS Configuration - Production (Restrict to specific origins)
# IMPORTANT: Update with your actual production frontend URL
spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://your-production-domain.com}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
spring.web.cors.allowed-headers=Authorization,Content-Type,X-Requested-With,X-Correlation-ID
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# Rate Limiting - Production (Stricter)
rate-limit.enabled=true
rate-limit.requests-per-minute=${RATE_LIMIT_REQUESTS_PER_MINUTE:60}

# Password Policy - Production (Strict)
password.policy.min-length=8
password.policy.require-uppercase=true
password.policy.require-lowercase=true
password.policy.require-digit=true
password.policy.require-special-char=true

# JWT Configuration - Production
# IMPORTANT: Use a strong secret key (minimum 256 bits) from environment variable
# Generate a secure secret: openssl rand -base64 64
jwt.secret=${JWT_SECRET:CHANGE_THIS_TO_A_STRONG_SECRET_MIN_256_BITS_IN_PRODUCTION}
jwt.expiration=${JWT_EXPIRATION:86400000}

# Logging Configuration - Production (Less verbose, only errors and warnings)
logging.level.com.nursery=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=WARN
logging.level.com.google.cloud.firestore=WARN
logging.level.root=WARN

# Actuator Configuration (for production monitoring - restrict access)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=never
management.endpoints.web.base-path=/actuator

# Error Handling - Production (Hide detailed errors for security)
server.error.include-message=never
server.error.include-stacktrace=never
server.error.include-binding-errors=never
server.error.whitelabel.enabled=false

# Security Headers
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict

# Performance Configuration
spring.jpa.properties.hikari.maximum-pool-size=20
spring.jpa.properties.hikari.minimum-idle=5

